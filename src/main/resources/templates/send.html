<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>å†™é‚®ä»¶</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.css" rel="stylesheet">

    <style>
        /* ä¿æŒä½ ä¹‹å‰çš„èƒŒæ™¯å›¾å’Œæ¯›ç»ç’ƒæ ·å¼ä¸å˜ */
        body {
            background-image: url('/images/bgwrite.jpg'); /* ç¡®ä¿æ–‡ä»¶åå¯¹ */
            background-size: cover; background-position: center; background-repeat: no-repeat; background-attachment: fixed;
            min-height: 100vh; padding-top: 60px; padding-bottom: 60px;
        }
        .card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.5); box-shadow: 0 15px 35px rgba(0,0,0,0.1); border-radius: 15px; }
        .card-header { background: rgba(255, 255, 255, 0.5); border-bottom: 1px solid rgba(0,0,0,0.05); padding: 20px 30px; border-radius: 15px 15px 0 0 !important; }
        .card-header h2 { color: #0078d4; margin: 0; font-size: 24px; font-weight: 600; }
        .back-link { font-size: 14px; color: #555; margin-top: 15px; display: inline-block; background: rgba(255,255,255,0.6); padding: 5px 10px; border-radius: 4px; text-decoration: none; }
        .back-link:hover { text-decoration: none; background: white; color: #000; }
        .contact-select { margin-top: 5px; padding: 8px; border: 1px dashed #ced4da; border-radius: 4px; width: 100%; color: #495057; cursor: pointer; background: rgba(255,255,255,0.8); }
        .file-input-wrapper { background: rgba(248, 249, 250, 0.8); padding: 15px; border-radius: 8px; border: 1px solid #e9ecef; }
    </style>
</head>
<body>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card">
                <div class="card-header">
                    <h2>ğŸ¨ å†™é‚®ä»¶</h2>
                </div>
                <div class="card-body p-4">

                    <form action="/sendMail" method="post" enctype="multipart/form-data">

                        <!-- 1. æ”¶ä»¶äºº (å¢åŠ äº† th:value ç”¨äºæ¥æ”¶å›å¤æ—¶çš„åœ°å€) -->
                        <div class="form-group">
                            <label><strong>æ”¶ä»¶äººé‚®ç®±ï¼š</strong></label>
                            <input type="text" id="toInput" name="to" class="form-control"
                                   placeholder="ä¾‹å¦‚ï¼š12345@qq.com" required
                                   th:value="${preTo}"> <!-- è¿™é‡Œçš„ preTo æ˜¯åç«¯ä¼ æ¥çš„é¢„å¡«å€¼ -->

                            <select class="contact-select" onchange="document.getElementById('toInput').value = this.value">
                                <option value="">â–¼ ä»é€šè®¯å½•å¿«é€Ÿé€‰æ‹©...</option>
                                <option th:each="c : ${contacts}" th:value="${c.email}" th:text="${c.name} + ' (' + ${c.email} + ')'"></option>
                            </select>
                        </div>

                        <!-- 2. ã€æ–°å¢ã€‘é‚®ä»¶ä¸»é¢˜ (ä¹‹å‰æ˜¯åç«¯å†™æ­»çš„ï¼Œç°åœ¨å¼€æ”¾ç»™ç”¨æˆ·) -->
                        <div class="form-group">
                            <label><strong>é‚®ä»¶ä¸»é¢˜ï¼š</strong></label>
                            <input type="text" name="subject" class="form-control"
                                   placeholder="è¯·è¾“å…¥é‚®ä»¶ä¸»é¢˜" required
                                   th:value="${preSubject}"> <!-- è¿™é‡Œçš„ preSubject æ˜¯é¢„å¡«å€¼ -->
                        </div>

                        <!-- 3. é‚®ä»¶å†…å®¹ (å¢åŠ äº† th:text ç”¨äºæ¥æ”¶è½¬å‘æ—¶çš„åŸå§‹å†…å®¹) -->
                        <div class="form-group">
                            <label><strong>é‚®ä»¶å†…å®¹ï¼š</strong></label>
                            <textarea id="summernote" name="text" th:text="${preContent}"></textarea>
                        </div>

                        <div class="form-group">
                            <label><strong>ğŸ“ æ·»åŠ é™„ä»¶ (å¯é€‰)ï¼š</strong></label>
                            <div class="file-input-wrapper">
                                <input type="file" name="file" class="form-control-file">
                            </div>
                        </div>

                        <hr>
                        <button type="submit" class="btn btn-primary btn-lg btn-block" style="background: linear-gradient(45deg, #0078d4, #00b4d8); border: none;">ğŸš€ å‘é€é‚®ä»¶</button>
                    </form>

                    <a href="/inbox" class="back-link">â† è¿”å›æ”¶ä»¶ç®±</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/lang/summernote-zh-CN.min.js"></script>

<script>
    $(document).ready(function() {
        $('#summernote').summernote({
            placeholder: 'è¯·åœ¨è¿™é‡Œå¼€å§‹ä½ çš„åˆ›ä½œ...',
            tabsize: 2, height: 300, lang: 'zh-CN',
            toolbar: [
                ['style', ['style']],
                ['font', ['bold', 'underline', 'clear', 'color']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['insert', ['link', 'picture']],
                ['view', ['fullscreen', 'codeview', 'help']]
            ]
        });
    });
</script>

</body>
</html>


<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>å†™é‚®ä»¶</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.css" rel="stylesheet">-->

<!--    <style>-->
<!--        body {-->
<!--            background-image: url('/images/bgwrite.jpg');-->

<!--            background-size: cover;-->
<!--            background-position: center;-->
<!--            background-repeat: no-repeat;-->
<!--            background-attachment: fixed;-->

<!--            min-height: 100vh;-->
<!--            padding-top: 60px;-->
<!--            padding-bottom: 60px;-->
<!--        }-->

<!--        .card {-->
<!--            background: rgba(255, 255, 255, 0.9);-->
<!--            backdrop-filter: blur(10px);-->
<!--            border: 1px solid rgba(255, 255, 255, 0.5);-->
<!--            box-shadow: 0 15px 35px rgba(0,0,0,0.1);-->
<!--            border-radius: 15px;-->
<!--        }-->

<!--        .card-header {-->
<!--            background: rgba(255, 255, 255, 0.5);-->
<!--            border-bottom: 1px solid rgba(0,0,0,0.05);-->
<!--            padding: 20px 30px;-->
<!--            border-radius: 15px 15px 0 0 !important;-->
<!--        }-->

<!--        .card-header h2 {-->
<!--            color: #0078d4;-->
<!--            margin: 0;-->
<!--            font-size: 24px;-->
<!--            font-weight: 600;-->
<!--            text-shadow: 0 2px 4px rgba(0,0,0,0.05);-->
<!--        }-->

<!--        .back-link {-->
<!--            font-size: 14px;-->
<!--            color: #555;-->
<!--            margin-top: 15px;-->
<!--            display: inline-block;-->
<!--            background: rgba(255,255,255,0.6);-->
<!--            padding: 5px 10px;-->
<!--            border-radius: 4px;-->
<!--            text-decoration: none;-->
<!--        }-->
<!--        .back-link:hover { text-decoration: none; background: white; color: #000; }-->

<!--        .contact-select {-->
<!--            margin-top: 5px;-->
<!--            padding: 8px;-->
<!--            border: 1px dashed #ced4da;-->
<!--            border-radius: 4px;-->
<!--            width: 100%;-->
<!--            color: #495057;-->
<!--            cursor: pointer;-->
<!--            background: rgba(255,255,255,0.8);-->
<!--        }-->

<!--        .file-input-wrapper {-->
<!--            background: rgba(248, 249, 250, 0.8);-->
<!--            padding: 15px;-->
<!--            border-radius: 8px;-->
<!--            border: 1px solid #e9ecef;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->

<!--<div class="container">-->
<!--    <div class="row justify-content-center">-->
<!--        <div class="col-md-10">-->
<!--            <div class="card">-->
<!--                <div class="card-header">-->
<!--                    <h2>ğŸ¨ å†™é‚®ä»¶</h2>-->
<!--                </div>-->
<!--                <div class="card-body p-4">-->

<!--                    &lt;!&ndash; è¡¨å•å¼€å§‹ &ndash;&gt;-->
<!--                    <form action="/sendMail" method="post" enctype="multipart/form-data">-->

<!--                        &lt;!&ndash; æ”¶ä»¶äºº &ndash;&gt;-->
<!--                        <div class="form-group">-->
<!--                            <label><strong>æ”¶ä»¶äººé‚®ç®±ï¼š</strong></label>-->
<!--                            <input type="text" id="toInput" name="to" class="form-control" placeholder="ä¾‹å¦‚ï¼š12345@qq.com" required>-->

<!--                            &lt;!&ndash; é€šè®¯å½•ä¸‹æ‹‰æ¡† &ndash;&gt;-->
<!--                            <select class="contact-select" onchange="document.getElementById('toInput').value = this.value">-->
<!--                                <option value="">â–¼ ä»é€šè®¯å½•å¿«é€Ÿé€‰æ‹©...</option>-->
<!--                                <option th:each="c : ${contacts}" th:value="${c.email}" th:text="${c.name} + ' (' + ${c.email} + ')'"></option>-->
<!--                            </select>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; é‚®ä»¶å†…å®¹ (å¯Œæ–‡æœ¬ç¼–è¾‘å™¨) &ndash;&gt;-->
<!--                        <div class="form-group">-->
<!--                            <label><strong>é‚®ä»¶å†…å®¹ï¼š</strong></label>-->
<!--                            <textarea id="summernote" name="text"></textarea>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; é™„ä»¶ä¸Šä¼  &ndash;&gt;-->
<!--                        <div class="form-group">-->
<!--                            <label><strong>ğŸ“ æ·»åŠ é™„ä»¶ (å¯é€‰)ï¼š</strong></label>-->
<!--                            <div class="file-input-wrapper">-->
<!--                                <input type="file" name="file" class="form-control-file">-->
<!--                            </div>-->
<!--                        </div>-->

<!--                        <hr>-->
<!--                        &lt;!&ndash; æŒ‰é’® &ndash;&gt;-->
<!--                        <button type="submit" class="btn btn-primary btn-lg btn-block" style="background: linear-gradient(45deg, #0078d4, #00b4d8); border: none;">ğŸš€ å‘é€é‚®ä»¶</button>-->
<!--                    </form>-->

<!--                    <a href="/inbox" class="back-link">â† è¿”å›æ”¶ä»¶ç®±</a>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; JS è„šæœ¬ (jQuery + Bootstrap + Summernote) &ndash;&gt;-->
<!--<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/lang/summernote-zh-CN.min.js"></script>-->

<!--<script>-->
<!--    $(document).ready(function() {-->
<!--        $('#summernote').summernote({-->
<!--            placeholder: 'è¯·åœ¨è¿™é‡Œå¼€å§‹ä½ çš„åˆ›ä½œ... (æ”¯æŒç²˜è´´å›¾ç‰‡ã€æ”¹é¢œè‰²ã€åŠ ç²—)',-->
<!--            tabsize: 2,-->
<!--            height: 300,-->
<!--            lang: 'zh-CN',-->
<!--            toolbar: [-->
<!--                ['style', ['style']],-->
<!--                ['font', ['bold', 'underline', 'clear', 'color']],-->
<!--                ['para', ['ul', 'ol', 'paragraph']],-->
<!--                ['insert', ['link', 'picture']],-->
<!--                ['view', ['fullscreen', 'codeview', 'help']]-->
<!--            ]-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--</body>-->
<!--</html>-->

